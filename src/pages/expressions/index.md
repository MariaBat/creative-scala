# Εκφράσεις, τιμές, και τύποι

Τα προγράμματα της Scala αποτελούνται από τρία βασικά δομικά στοιχεία: *τις εκφράσεις*, *τις αξίες*, και *τους τύπους*. Η ενότητα αυτή είναι αφιερωμένη σ'αυτές τις τρεις έννοιες.

Η παρακάτω είναι μια πολύ απλή έκφραση:

```tut:silent:book
1 + 2
```

Μια *έκφραση* είναι ένα μικρό κομμάτι κώδικα Scala. Μπορούμε να γράψουμε εκφράσεις σε έναν text editor, ή σε ένα χαρτί, ή σε έναν τοίχο. Καταλαβαίνετε που το πάμε.

Οι εκφράσεις είναι όπως το γράψιμο. Όπως το γράψιμο πρέπει να διαβαστεί από κάποιον ώστε να έχει αξία για τον κόσμο (και αυτός που το διαβάζει πρέπει να καταλαβαίνει την γλώσσα στην οποία αυτό είναι γραμμένο), έτσι και ο υπολογιστής πρέπει να *εκτελέσει* μια έκφραση ώστε αυτή να έχει κάποιο αποτέλεσμα. Το αποτέλεσμα της εκτέλεσης μιας έκφρασης είναι μια *τιμή*. Οι τιμές ζουν στην μνήμη του υπολογιστή, όπως ζει κάτι που θα διαβάσει κάποιος στο κεφάλι του. Ακόμη για να περιγράψουμε την διαδικασία μετατροπής των εκφράσεων σε τιμές πρέπει να πούμε ότι αυτές *εκτιμούνται* ή *εκτελούνται*.

Μπορούμε να αξιολογήσουμε εκφράσεις αμέσως αν τις γράψουμε στην κονσόλα και μετά πατήσουμε "Enter" (ή "Return"). Δοκιμάστε το τώρα.

```tut:book
1 + 2
```

Η κονσόλα θα μας επιστρέψει την τιμή με την οποία εκτιμάται η έκφραση, καθώς και τον τύπος της.

Η έκφραση `1 + 2` εκτιμάται με την τιμή `3`. Μπορούμε να καταγράψουμε τον αριθμό τρία σε μια σελίδα,  αλλά η αληθινή τιμή είναι κάτι που αποθηκεύεται στην μνήμη του υπολογιστή. Στη συγκεκριμένη περίπτωση, είναι ένας ακέραιος 32-bit αριθμός που αναπαρίσταται με two's-complement. Το νόημα αυτής της αναπαράστασης του ακεραίου δεν είναι σημαντικό. Απλώς το αναφέραμε ώστε να δώσουμε έμφαση στο γεγονός ότι στην πραγματικότητα η αναπαράσταση της τιμής `3` για τον υπολογιστή, είναι η αληθινή του τιμή και όχι ο αριθμός που είναι γραμμένος εδώ ή στην κονσόλα.

Οι *τύποι* είναι το τελευταίο κομμάτι του παζλ. Ένας τύπος είναι οτιδήποτε μπορούμε να συμπεράνουμε για το πρόγραμμα *χωρίς* να το τρέξουμε. Ο τύπος της έκφρασης `1 + 2` είναι `Int`, και από αυτό μπορούμε να καταλάβουμε ότι η τιμή της έκφρασης εκτιμάται ως ακέραιος αριθμός. Αυτό σημαίνει ότι επίσης μπορούμε να γράψουμε και άλλες εκφράσεις χρησιμοποιώντας το αποτέλεσμα αυτής της έκφρασης, αλλά θα πρέπει να είναι τέτοιες ώστε να έχει νόημα που χρησιμοποιούν ακεραίους. Μπορούμε να προσθέσουμε, να αφαιρέσουμε, να πολλαπλασιάσουμε ή να διαιρέσουμε, αλλά για παράδειγμα,δεν θα μπορούσαμε να μετατρέψουμε έναν ακέραιο σε κεφαλαίο.

Οι τύποι πολλές φορές μας δείχνουν το πως πρέπει να εκλάβουμε μια τιμή (που υπάρχει μέσα στην μνήμη του υπολογιστή) η οποία ήταν το αποτέλεσμα μιας έκφρασης. Θα πρέπει να την εκλάβουμε ως ακέραιο ή ως μια σειρά σημείων που καθορίζουν την τωρινή θέση του ποντικιού; Οι τύποι μπορούν να μας απαντήσουν. Μπορούμε να χρησιμοποιήσουμε τύπους και για άλλα πράγματα, συμπεριλαμβανομένων και αυτών που δεν φαίνεται να έχουν κάποια συγκεκριμένη αναπαράσταση τύπου κατά τη διάρκεια της εκτέλεσης. Αυτές οι χρήσεις είναι λίγο πιο προχωρημένες για να ασχοληθούμε τώρα, αλλά μην κάνετε το λάθος να πιστέψετε ότι οι τύποι αντιστοιχούν σε τιμές. Οι τύποι στην Scala υπάρχουν μόνο κατά την διάρκεια της μεταγλώττισης. Η αντιστοίχιση ενός τύπου σε μια έκφραση που παρήγαγε μια συγκεκριμένη τιμή, δεν είναι απαραίτητη.

Πριν την εκτέλεση ενός προγράμματος Scala, πρέπει να γίνει η *μεταγλώττιση*. Η μεταγλώττιση ελέγχει αν ένα πρόγραμμα βγάζει νόημα. Πρέπει να είναι συντακτικά σωστό, κάτι που σημαίνει ότι πρέπει να είναι γραμμένο σύμφωνα με τους κανόνες της Scala. Για παράδειγμα το `(1 + 2)` είναι συντακτικά σωστό, αλλά το `(1 + 2` δεν  είναι. Επίσης στη μεταγλώττιση γίνεται και *έλεγχος τύπων*, που σημαίνει ότι οι τύποι πρέπει να είναι οι κατάλληλοι για αυτό που θέλουμε να κάνουμε. Το `1 + 2` περνάει από τον έλεγχο τύπου (προσθέτουμε ακέραιους), αλλά το `1.toUpperCase` δεν θα περνούσε  (δεν υπάρχει η έννοια των μικρών ή των κεφαλαίων στους αριθμούς.)

Μπορούν να εκτελεστούν μόνο τα προγράμματα που θα μεταγλωττιστούν επιτυχώς. Μπορούμε να σκεφτούμε την μεταγλώττιση σε αναλογία με τους κανόνες γραμματικής στον γραπτό λόγο. Η πρόταση "F$Rf  fjrmn;l df.fd"
είναι συντακτικά σωστή στα Αγγλικά. Η σειρά με την οποία έχουν μπει τα γράμματα δεν σχηματίζει λέξεις. Η πρόταση "σκυλί πετάει ένα εδώ όχι" αποτελείται από  υπαρκτές λέξεις αλλά η σειρά τους καταπατάει τους κανόνες της γραμματικής---τα αντίστοιχα ισχύουν και για τους ελέγχους τύπων που εκτελεί η Scala.

Θα αναφερόμαστε στον *χρόνο-μεταγλώττισης* ως τον χρόνο που χρειάζεται ένας κώδικας για να μεταγλωττιστεί, και στον *χρόνο-εκτέλεσης* ως τον χρόνο που χρειάζεται για να εκτελεστεί.

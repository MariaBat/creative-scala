# Εκφράσεις, Τιμές και Τύποι

Τα προγράμματα της Scala αποτελούνται από τρία βασικά δομικά στοιχεία: *τις εκφράσεις*, *τις τιμές* και *τους τύπους*. Η ενότητα αυτή είναι αφιερωμένη σ'αυτές τις τρεις έννοιες.

Παρακάτω μπορείτε να δείτε μια πολύ απλή έκφραση:

```tut:silent:book
1 + 2
```

Μια *έκφραση* στην Scala είναι ένα μικρό κομμάτι κώδικα. Μπορούμε να γράψουμε εκφράσεις σε έναν text editor, σε ένα χαρτί, σε έναν τοίχο ή οπουδήποτε αλλού.

Οι εκφράσεις είναι όπως ο γραπτός λόγος. Όπως κάτι που είναι γραμμένο πρέπει να διαβαστεί από κάποιον ώστε να έχει αξία (και εννοείται ότι αυτός που το διαβάζει πρέπει να καταλαβαίνει την γλώσσα στην οποία είναι γραμμένο), έτσι και ο υπολογιστής πρέπει να *εκτελέσει* μια έκφραση ώστε αυτή να παράξει κάποιο αποτέλεσμα. Το αποτέλεσμα της εκτέλεσης μιας έκφρασης είναι μια *τιμή*. Οι τιμές ζουν στην μνήμη του υπολογιστή, όπως ζει κάτι που θα διαβάσει κάποιος μέσα στο κεφάλι του. Για να περιγράψουμε την διαδικασία μετατροπής των εκφράσεων σε τιμές πρέπει να πούμε ότι αυτές *αξιολογούνται* ή *εκτελούνται*.

Μπορούμε να αξιολογήσουμε εκφράσεις πολύ εύκολα αν τις γράψουμε στην κονσόλα και μετά πατήσουμε "Enter" (ή "Return"). Δοκιμάστε το τώρα.

```tut:book
1 + 2
```

Η κονσόλα θα μας επιστρέψει την τιμή με την οποία αξιολογείται η έκφραση, καθώς και τον τύπος της.

Η έκφραση `1 + 2` αξιολογείται με την τιμή `3`. Μπορούμε να καταγράψουμε τον αριθμό τρία σε μια σελίδα αλλά η αληθινή τιμή είναι κάτι που αποθηκεύεται στην μνήμη του υπολογιστή. Στη συγκεκριμένη περίπτωση, είναι ένας ακέραιος 32-bit αριθμός που αναπαρίσταται με συμπλήρωμα ως προς δύο. Το νόημα αυτής της αναπαράστασης του ακεραίου δεν είναι σημαντικό. Απλώς το αναφέραμε ώστε να δώσουμε έμφαση στο γεγονός ότι η αναπαράσταση της τιμής `3` για τον υπολογιστή, είναι διαφορετική από τον αριθμό που είναι γραμμένος εδώ ή στην κονσόλα.

Οι *τύποι* είναι το τελευταίο κομμάτι του παζλ. Ένας τύπος είναι οτιδήποτε μπορούμε να συμπεράνουμε για το πρόγραμμα *χωρίς* να το τρέξουμε. Ο τύπος της έκφρασης `1 + 2` είναι `Int`. Από αυτό μπορούμε να καταλάβουμε ότι η τιμή της έκφρασης θεωρείται ακέραιος αριθμός. Αυτό σημαίνει επίσης ότι μπορούμε να γράψουμε και άλλες εκφράσεις που να χρησιμοποιούν το αποτέλεσμα αυτής της έκφρασης αλλά θα πρέπει να είναι τέτοιες ώστε να βγάζουν νόημα όταν χρησιμοποιούν ακεραίους. Μπορούμε να προσθέσουμε, να αφαιρέσουμε, να πολλαπλασιάσουμε ή να διαιρέσουμε αλλά για παράδειγμα δεν θα μπορούσαμε να μετατρέψουμε έναν ακέραιο σε πεζό γράμμα.

Οι τύποι μας δείχνουν το πως πρέπει να εκλάβουμε μια τιμή (που υπάρχει μέσα στην μνήμη του υπολογιστή) η οποία ήταν το αποτέλεσμα μιας έκφρασης. Πρέπει να την εκλάβουμε ως έναν ακέραιο αριθμό ή ως μια σειρά σημείων που καθορίζουν την θέση του ποντικιού μια συγκεκριμένη στιγμή; Οι τύποι μπορούν να μας δώσουν αυτές τις απαντήσεις. Μπορούμε να χρησιμοποιήσουμε τύπους και για άλλα πράγματα, συμπεριλαμβανομένων και αυτών που δεν φαίνονται κατά τη διάρκεια της εκτέλεσης. Αυτές οι χρήσεις τύπων είναι λίγο πιο προχωρημένες από το τωρινό μας επίπεδο αλλά μην κάνετε το λάθος να πιστέψετε ότι οι τύποι αντιστοιχούν σε τιμές. Οι τύποι στην Scala υπάρχουν μόνο κατά την διάρκεια της μεταγλώττισης. Κατά την διάρκεια της εκτέλεσης, η παρουσία του τύπου μιας έκφρασης που είχε ως αποτέλεσμα μια συγκεκριμένη τιμή, δεν είναι απαραίτητη.

Πριν την εκτέλεση ενός προγράμματος Scala, πρέπει να γίνει η *μεταγλώττιση*. Η μεταγλώττιση ελέγχει αν ένα πρόγραμμα βγάζει νόημα. Πρέπει να είναι συντακτικά σωστό, δηλαδή να είναι γραμμένο σύμφωνα με τους κανόνες της Scala. Για παράδειγμα η έκφραση `(1 + 2)` είναι συντακτικά σωστή ενώ η `(1 + 2` δεν  είναι. Επίσης, στη μεταγλώττιση γίνεται και *έλεγχος τύπων*, που σημαίνει ότι οι τύποι πρέπει να είναι οι κατάλληλοι για αυτό που θέλουμε να κάνουμε. Η έκφραση `1 + 2` περνάει από τον έλεγχο τύπων (προσθέτουμε ακέραιους) αλλά η `1.toUpperCase` δεν περνάει αφού στους αριθμούς δεν υπάρχει η έννοια των πεζών και κεφαλαίων.

Στην φάση της εκτέλεσης μπορούν να περάσουν μόνο τα προγράμματα που μεταγλωττίζονται επιτυχώς. Θα μπορούσαμε να πούμε ότι η μεταγλώττιση ενός προγράμματος είναι ανάλογη με τον έλεγχο των κανόνων γραμματικής στον γραπτό λόγο. Η πρόταση "F$Rf  fjrmn;l df.fd"
είναι συντακτικά λάθος στα Αγγλικά. Η σειρά με την οποία έχουν μπει τα γράμματα δεν σχηματίζει λέξεις. Η πρόταση "σκυλί πετάει ένα εδώ όχι" αποτελείται από υπαρκτές λέξεις αλλά η σειρά τους δεν είναι σύμφωνη με τους κανόνες της γραμματικής---τα αντίστοιχα ισχύουν και για τους ελέγχους τύπων που εκτελεί η Scala.

Θα αναφερόμαστε στον *χρόνο-μεταγλώττισης* ως τον χρόνο κατά τον οποίο ο κώδικας μεταγλωττίζεται και στον *χρόνο-εκτέλεσης* ως τον χρόνο κατά τον οποίο εκτελείται.

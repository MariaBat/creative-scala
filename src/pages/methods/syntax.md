## Συντακτικό Μεθόδων
```tut:invisible
import doodle.core._
import doodle.core.Image._
import doodle.syntax._
import doodle.jvm.Java2DFrame._
import doodle.backend.StandardInterpreter._
```

Έχουμε ήδη δει ένα παράδειγμα δήλωσης μεθόδου.

```tut:silent:book
def boxes(color: Color): Image = {
  val box =
    Image.rectangle(40, 40).
      lineWidth(5.0).
      lineColor(color.spin(30.degrees)).
      fillColor(color) 

  box beside box beside box beside box beside box
}
```

Ας το χρησιμοποιήσουμε ως μοντέλο για να κατανοήσουμε το συντακτικό της δήλωσης μιας μεθόδου.
Το πρώτο μέρος είναι η *λέξη-κλειδί* `def`.
Μια λέξη-κλειδί είναι μια ειδική λέξη που υποδεικνύει κάτι σημαντικό στον μεταγλωττιστή της Scala---σ'αυτή την περίπτωση, ότι θα δηλώσουμε μια μέθοδο.
Έχουμε ήδη δει τις λέξεις-κλειδιά `object` και `val`.

Το `def` ακολουθείται από το όνομα της μεθόδου, στην δική μας περίπτωση είναι το `boxes`, όπως και τα `val` και `object` ακολουθούνται από το όνομα που δηλώνουν.
Όπως μια δήλωση `val`, μια δήλωση μεθόδου δεν είναι δήλωση top-level και όταν γράφεται σε αρχείο πρέπει να περικλείεται μέσα σε μια δήλωση `object` (ή σε μία άλλη top-level δήλωση).

Μετά έχουμε τις παραμέτρους της μεθόδου, οι οποίες ορίζονται μέσα σε παρενθέσεις (`()`).
Οι παράμετροι είναι τα μέρη τα οποία, αυτός που κάνει την κλήση μπορεί να "βάλει" μέσα στην έκφραση που αξιολογεί η μέθοδος.
Όταν δηλώνουμε παραμέτρους μεθόδων πρέπει να τους δώσουμε ένα όνομα και έναν τύπο.
Το όνομα και ο τύπος χωρίζονται από μια άνω-κάτω τελεία (`:`).
Δεν είχε χρειαστεί να δηλώσουμε τύπους προηγουμένως.
Στις περισσότερες περιπτώσεις η Scala μπορεί να βρει τους τύπους για εμάς, και αυτή είναι μια διαδικασία που ονομάζεται *type inference (συμπέρασμα τύπου)*.
Όμως η διαδικασία του type inference, δεν μπορεί να συμπεράνει τους τύπους των παραμέτρων μιας μεθόδου οπότε πρέπει να τους παρέχουμε εμείς.

Μετά τις παραμέτρους έχουμε τον τύπο του αποτελέσματος.
Ο τύπος του αποτελέσματος είναι ο τύπος της τιμής με την οποία αξιολογείται η μέθοδος όταν καλείται.
Αντίθετα με τους τύπους των παραμέτρων, η Scala μπορεί να συμπεράνει τον τύπο του αποτελέσματος, αλλά είναι καλή τακτική να το συμπεριλαμβάνουμε και έτσι θα κάνουμε σε όλη την Creative Scala.

Τέλος, η έκφραση του σώματος υπολογίζει το αποτέλεσμα κλήσης της μεθόδου.
Το σώμα μπορεί να είναι μια block expression, όπως στο `boxes` παραπάνω, ή απλώς μια μόνο έκφραση.

<div class="callout callout-info">
#### Συντακτικό Δήλωσης Μεθόδου {-}

Το συντακτικό μιας δήλωσης μεθόδου είναι το παρακάτω

```scala
def methodName(param1: Param1Type, ...): ResultType =
  bodyExpression
```

όπου

- το `methodName` είναι το όνομα της μεθόδου,
- τα προαιρετικά `param1 : Param1Type, ...` είναι ένα ή περισσότερα ζεύγη ονομάτων και τύπων παραμέτρων,
- το προαιρετικό `ResultType` είναι ο τύπος του αποτελέσματος κλήσης της μεθόδου, και
- το `bodyExpression` είναι η έκφραση η οποία αξιολογείται ώστε να παραχθεί το αποτέλεσμα κλήσης της μεθόδου.
</div>


### Ασκήσεις {-}

Ας εξασκηθούμε στην δήλωση μεθόδων γράφοντας μερικά απλά παραδείγματα.

#### Τετράγωνο {-}

Γράψτε μια μέθοδο `square` η οποία δέχεται μια παράμετρο `Int` και επιστρέφει το `Int` τετράγωνο αυτής της παραμέτρου. (Το τετράγωνο ενός αριθμού είναι ο πολλαπλασιασμός με τον εαυτό του.)

<div class="solution">
Η λύση είναι η παρακάτω

```tut:silent:book
def square(x: Int): Int = 
  x * x
```

Μπορούμε να φτάσουμε στην λύση με τα ακόλουθα βήματα.

Μας δίνεται το όνομα (`square`), ο τύπος της παραμέτρου (`Int`), και ο τύπος του αποτελέσματος (`Int`).
Από αυτά μπορούμε να γράψουμε τον σκελετό της μεθόδου

```tut:silent:book
def square(x: Int): Int =
  ???
```

όπου έχουμε επιλέξει το `x` ως το όνομα της παραμέτρου.
Αυτή είναι μια αρκετά αυθαίρετη επιλογή.
Στις περιπτώσεις όπου δεν υπάρχει κάποιο όνομα με συγκεκριμένο νόημα συχνά θα βλέπετε να χρησιμοποιούνται ονόματα που αποτελούνται από ένα γράμμα όπως `x`, `v`, ή `i`.

Παρεμπιπτόντως αυτός ο κώδικας είναι έγκυρος.
Βάλτε τον στην κονσόλα και δείτε!
Τι συμβαίνει όταν καλείται την `square` όπως είναι ορισμένη παραπάνω;

Τώρα πρέπει να ολοκληρώσουμε το σώμα.
Ξέρουμε ότι το τετράγωνο είναι ο πολλαπλασιασμός ενός αριθμού με τον εαυτό του, άρα θα αντικαταστήσουμε τα `???` με το `x * x`.
Δεν χρειάζεται να το βάλουμε σε αγκύλες αφού μέσα στο σώμα υπάρχει μόνο μια μοναδική έκφραση.
</div>


#### Μισό {-}

Γράψτε μια μέθοδο `halve` η οποία δέχεται μια παράμετρο `Double` και επιστρέφει ένα `Double` το οποίο είναι το μισό από την παράμετρο.

<div class="solution">
```tut:silent:book
def halve(x: Double): Double =
 x / 2.0
```

Για να φτάσουμε στην λύση, μπορούμε να ακολουθήσουμε την ίδια διαδικασία όπως παραπάνω με την `square`.
</div>

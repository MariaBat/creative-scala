## Συντακτικό Μεθόδων
```tut:invisible
import doodle.core._
import doodle.core.Image._
import doodle.syntax._
import doodle.jvm.Java2DFrame._
import doodle.backend.StandardInterpreter._
```

Έχουμε ήδη δει ένα παράδειγμα δήλωσης μεθόδου.

```tut:silent:book
def boxes(color: Color): Image = {
  val box =
    Image.rectangle(40, 40).
      lineWidth(5.0).
      lineColor(color.spin(30.degrees)).
      fillColor(color) 

  box beside box beside box beside box beside box
}
```

Ας το χρησιμοποιήσουμε ως μοντέλο για να κατανοήσουμε το συντακτικό της δήλωσης μίας μεθόδου.
Αρχικά, έχουμε την *λέξη-κλειδί* `def`.
Είναι μία ειδική λέξη που υποδεικνύει κάτι σημαντικό στον μεταγλωττιστή της Scala---σ' αυτή την περίπτωση, ότι θα δηλώσουμε μία μέθοδο.
Έχουμε ήδη δει τις λέξεις-κλειδιά `object` και `val`.

Το `def` ακολουθείται από το όνομα της μεθόδου, που στην δική μας περίπτωση είναι το `boxes`. Το ίδιο συνέβαινε και με τα `val` και `object`, που ακολουθούνταν από το όνομα που δηλώνουν.
Όπως μία δήλωση `val`, μία δήλωση μεθόδου δεν είναι δήλωση top-level και όταν γράφεται σε αρχείο πρέπει να περικλείεται μέσα σε μία δήλωση `object` (ή σε μία άλλη top-level δήλωση).

Μετά, έχουμε τις παραμέτρους της μεθόδου, οι οποίες ορίζονται μέσα σε παρενθέσεις (`()`).
Οι παράμετροι είναι τα κομμάτια εκείνα, που αυτός που κάνει την κλήση μπορεί να "βάλει" μέσα στην έκφραση που αξιολογεί η μέθοδος.
Όταν δηλώνουμε παραμέτρους μεθόδων πρέπει να τους δώσουμε ένα όνομα και έναν τύπο.
Το όνομα και ο τύπος χωρίζονται από μία άνω-κάτω τελεία (`:`).
Μέχρι στιγμής, σ' αυτό το βιβλίο δεν είχε χρειαστεί να δηλώσουμε κάποιον τύπο.
Στις περισσότερες περιπτώσεις η Scala μπορεί να βρει τους τύπους από μόνη της. Αυτή Η διαδικασία ονομάζεται *type inference (συμπέρασμα τύπου)*.
Όμως το type inference, δεν μπορεί να συμπεράνει τους τύπους των παραμέτρων μίας μεθόδου οπότε πρέπει να τους δώσουμε εμείς.

Μετά τις παραμέτρους, έχουμε τον τύπο του αποτελέσματος.
Ο τύπος του αποτελέσματος είναι ο τύπος της τιμής με την οποία αξιολογείται η μέθοδος όταν καλείται.
Αντίθετα με τους τύπους των παραμέτρων, η Scala μπορεί να συμπεράνει τον τύπο του αποτελέσματος. Παρόλα αυτά, είναι καλή τακτική να το συμπεριλαμβάνουμε από μόνοι μας και έτσι θα κάνουμε και σε όλη την υπόλοιπη Creative Scala.

Τέλος, η έκφραση στο σώμα της μεθόδου, υπολογίζει το αποτέλεσμα της κλήσης της.
Το σώμα μπορεί να είναι μία block expression, όπως στο `boxes` παραπάνω ή απλώς, μία μόνο έκφραση.

<div class="callout callout-info">
#### Συντακτικό Δήλωσης Μεθόδου {-}

Το συντακτικό μίας δήλωσης μεθόδου είναι το παρακάτω

```scala
def methodName(param1: Param1Type, ...): ResultType =
  bodyExpression
```

όπου

- το `methodName` είναι το όνομα της μεθόδου,
- τα προαιρετικά `param1 : Param1Type, ...` είναι ένα ή περισσότερα ζεύγη ονομάτων και τύπων παραμέτρων,
- το προαιρετικό `ResultType` είναι ο τύπος του αποτελέσματος κλήσης της μεθόδου, και
- το `bodyExpression` είναι η έκφραση η οποία αξιολογείται ώστε να παραχθεί το αποτέλεσμα κλήσης της μεθόδου.
</div>


### Ασκήσεις {-}

Ας εξασκηθούμε στην δήλωση μεθόδων γράφοντας μερικά απλά παραδείγματα.

#### Τετράγωνο {-}

Γράψτε μία μέθοδο `square` η οποία δέχεται έναν `Int` και επιστρέφει το `Int` τετράγωνο αυτής της παραμέτρου. (Το τετράγωνο ενός αριθμού είναι ο πολλαπλασιασμός με τον εαυτό του.)

<div class="solution">
Η λύση είναι η παρακάτω

```tut:silent:book
def square(x: Int): Int = 
  x * x
```

Μπορούμε να φτάσουμε στην λύση με τα ακόλουθα βήματα.

Μας δίνεται το όνομα (`square`), ο τύπος της παραμέτρου (`Int`) και ο τύπος του αποτελέσματος (`Int`).
Από αυτά μπορούμε να γράψουμε τον σκελετό της μεθόδου

```tut:silent:book
def square(x: Int): Int =
  ???
```

όπου έχουμε επιλέξει (αυθαίρετα) το `x` ως το όνομα της παραμέτρου.
Στις περιπτώσεις όπου δεν υπάρχει κάποιο όνομα με συγκεκριμένο νόημα συχνά θα βλέπετε να χρησιμοποιούνται ονόματα που αποτελούνται από ένα γράμμα όπως `x`, `v`, ή `i`.

Παρεμπιπτόντως, αυτός ο κώδικας είναι έγκυρος.
Βάλτε τον στην κονσόλα και δείτε!
Τι συμβαίνει όταν καλείτε την `square` όπως είναι ορισμένη παραπάνω;

Τώρα πρέπει να ολοκληρώσουμε το σώμα.
Ξέρουμε ότι το τετράγωνο είναι ο πολλαπλασιασμός ενός αριθμού με τον εαυτό του, άρα θα αντικαταστήσουμε τα `???` με το `x * x`.
Δεν χρειάζεται να το βάλουμε σε αγκύλες αφού μέσα στο σώμα υπάρχει μόνο μία έκφραση.
</div>


#### Μισό {-}

Γράψτε μία μέθοδο `halve` η οποία δέχεται μία παράμετρο `Double` και επιστρέφει ένα `Double` το οποίο είναι το μισό από αυτή την παράμετρο.

<div class="solution">
```tut:silent:book
def halve(x: Double): Double =
 x / 2.0
```

Για να φτάσουμε στην λύση, μπορούμε να ακολουθήσουμε την ίδια διαδικασία όπως κάναμε παραπάνω με την `square`.
</div>
